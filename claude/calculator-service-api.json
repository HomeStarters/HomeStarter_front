{"openapi":"3.0.1","info":{"title":"Calculator Service API","description":"내집마련 도우미 - 입주 후 지출 계산 및 대출 자격 분석 API","contact":{"name":"Home Starter Development Team","email":"dev@homestarter.com"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8085","description":"Local Development"},{"url":"{protocol}://{host}:{port}","description":"Custom Server","variables":{"protocol":{"description":"Protocol (http or https)","default":"http","enum":["http","https"]},"host":{"description":"Server host","default":"localhost"},"port":{"description":"Server port","default":"8085"}}}],"security":[{"Bearer Authentication":[]}],"tags":[{"name":"Calculator","description":"재무 계산 API"}],"paths":{"/calculator/housing-expenses":{"post":{"tags":["Calculator"],"summary":"입주 후 지출 계산","description":"주택 입주 후 예상 지출을 계산합니다","operationId":"calculateHousingExpenses","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HousingExpensesRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CalculationResultResponse"}}}}}}},"/calculator/results":{"get":{"tags":["Calculator"],"summary":"계산 결과 목록 조회","description":"사용자의 계산 결과 목록을 조회합니다","operationId":"getCalculationResults","parameters":[{"name":"housingId","in":"query","description":"주택 ID","required":false,"schema":{"type":"string"}},{"name":"status","in":"query","description":"상태 (ELIGIBLE/INELIGIBLE)","required":false,"schema":{"type":"string"}},{"name":"sortBy","in":"query","description":"정렬 기준","required":false,"schema":{"type":"string","default":"calculatedAt"}},{"name":"sortOrder","in":"query","description":"정렬 순서","required":false,"schema":{"type":"string","default":"desc"}},{"name":"page","in":"query","description":"페이지 번호","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","description":"페이지 크기","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CalculationResultListResponse"}}}}}}},"/calculator/results/{id}":{"get":{"tags":["Calculator"],"summary":"계산 결과 상세 조회","description":"특정 계산 결과의 상세 정보를 조회합니다","operationId":"getCalculationResult","parameters":[{"name":"id","in":"path","description":"계산 결과 ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CalculationResultResponse"}}}}}},"delete":{"tags":["Calculator"],"summary":"계산 결과 삭제","description":"특정 계산 결과를 삭제합니다","operationId":"deleteCalculationResult","parameters":[{"name":"id","in":"path","description":"계산 결과 ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"HousingExpensesRequest":{"required":["housingId","loanAmount","loanProductId","loanTerm"],"type":"object","properties":{"housingId":{"type":"string","description":"주택 ID","example":"550e8400-e29b-41d4-a716-446655440001"},"loanProductId":{"type":"string","description":"대출상품 ID","example":"550e8400-e29b-41d4-a716-446655440002"},"loanAmount":{"minimum":0,"type":"integer","description":"대출 금액 (원)","format":"int64","example":300000000},"loanTerm":{"minimum":1,"type":"integer","description":"대출 기간 (개월)","format":"int32","example":360}},"description":"입주 후 지출 계산 요청"},"AfterMoveInDto":{"type":"object","properties":{"assets":{"type":"integer","description":"입주 후 자산 (원)","format":"int64","example":50000000},"monthlyExpenses":{"type":"integer","description":"월 지출 (원)","format":"int64","example":3000000},"monthlyIncome":{"type":"integer","description":"월 소득 (원)","format":"int64","example":5000000},"availableFunds":{"type":"integer","description":"여유 자금 (원)","format":"int64","example":2000000}},"description":"입주 후 재무상태"},"CalculationResultResponse":{"type":"object","properties":{"id":{"type":"string","description":"계산 결과 ID","example":"550e8400-e29b-41d4-a716-446655440000"},"userId":{"type":"string","description":"사용자 ID","example":"550e8400-e29b-41d4-a716-446655440001"},"housingId":{"type":"string","description":"주택 ID","example":"550e8400-e29b-41d4-a716-446655440002"},"housingName":{"type":"string","description":"주택 이름","example":"아파트A"},"loanProductId":{"type":"string","description":"대출상품 ID","example":"550e8400-e29b-41d4-a716-446655440003"},"loanProductName":{"type":"string","description":"대출상품 이름","example":"주택담보대출A"},"calculatedAt":{"type":"string","description":"계산 일시","format":"date-time"},"financialStatus":{"$ref":"#/components/schemas/FinancialStatusDto"},"loanAnalysis":{"$ref":"#/components/schemas/LoanAnalysisDto"},"afterMoveIn":{"$ref":"#/components/schemas/AfterMoveInDto"},"status":{"type":"string","description":"상태","example":"ELIGIBLE"}},"description":"계산 결과 상세 응답"},"FinancialStatusDto":{"type":"object","properties":{"currentAssets":{"type":"integer","description":"현재 순자산 (원)","format":"int64","example":100000000},"estimatedAssets":{"type":"integer","description":"예상자산 (원)","format":"int64","example":150000000},"loanRequired":{"type":"integer","description":"대출필요금액 (원)","format":"int64","example":300000000}},"description":"재무 현황"},"LoanAnalysisDto":{"type":"object","properties":{"ltv":{"type":"number","description":"계산된 LTV (%)","format":"double","example":70.0},"dti":{"type":"number","description":"계산된 DTI (%)","format":"double","example":40.0},"dsr":{"type":"number","description":"계산된 DSR (%)","format":"double","example":35.0},"ltvLimit":{"type":"number","description":"LTV 한도 (%)","format":"double","example":70.0},"dtiLimit":{"type":"number","description":"DTI 한도 (%)","format":"double","example":40.0},"dsrLimit":{"type":"number","description":"DSR 한도 (%)","format":"double","example":40.0},"isEligible":{"type":"boolean","description":"충족 여부","example":true},"ineligibilityReasons":{"type":"array","description":"미충족 사유 목록","items":{"type":"string","description":"미충족 사유 목록"}},"monthlyPayment":{"type":"integer","description":"월 상환액 (원)","format":"int64","example":1500000}},"description":"대출 분석"},"CalculationResultListItem":{"type":"object","properties":{"id":{"type":"string","description":"계산 결과 ID","example":"550e8400-e29b-41d4-a716-446655440000"},"housingName":{"type":"string","description":"주택 이름","example":"아파트A"},"loanProductName":{"type":"string","description":"대출상품 이름","example":"주택담보대출A"},"calculatedAt":{"type":"string","description":"계산 일시","format":"date-time"},"status":{"type":"string","description":"상태","example":"ELIGIBLE"},"availableFunds":{"type":"integer","description":"여유 자금 (원)","format":"int64","example":2000000}},"description":"계산 결과 목록 항목"},"CalculationResultListResponse":{"type":"object","properties":{"results":{"type":"array","description":"계산 결과 목록","items":{"$ref":"#/components/schemas/CalculationResultListItem"}},"page":{"type":"integer","description":"현재 페이지 번호","format":"int32","example":0},"size":{"type":"integer","description":"페이지 크기","format":"int32","example":20},"total":{"type":"integer","description":"전체 결과 수","format":"int64","example":100}},"description":"계산 결과 목록 응답"}},"securitySchemes":{"Bearer Authentication":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}